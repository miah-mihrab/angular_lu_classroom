<div class="container">
    <div class="col-12">
        <h3 class="text-secondary">Assign Work</h3>
        <hr>
        <form class="ui form" style="margin-top: 15px;" id="classwork_form" [formGroup]="createClasswork">
            <div class="field">
                <label for="assignment name">Assignment Name (Keep it unique)</label>
                <input type="text" class="form-control" name="assignmentname" id="assignmet_name"
                    placeholder="Assignment Name" required formControlName="assignmentname">
            </div>
            <div class="field">
                <label for="description">Details</label>
                <textarea class="form-control" name="details" id="details" rows="3"
                    placeholder="Description and Last Date of Submission" formControlName="details"></textarea>
            </div>
            <div class="field">
                <input type="file" class="form__upload" id="photo" accept=".pdf, .zip, .cpp" name="file"
                    (change)="fileUpload($event)">
            </div>
            <button class="ui inverted green button" (click)="createNewClasswork()">Assign</button>
        </form>
    </div>
</div>

<div class="container">

    <h4 class="display-4 text-center pt-5 pr-5 pl-5 pb-2">Assigned Classworks</h4>

    <table class="table table-striped table-primary mt-4" style="border: 0.5px solid #ddd;">
        <tr>

            <th class="text-center">Assignment Name</th>
            <th class="text-center">Description</th>
            <th class="text-center">File</th>
            <th class="text-center">Submission</th>
        </tr>
        <tr *ngFor="let classwork of allClassworks">
            <td align="center">{{classwork.assignmentname}}</td>
            <td align="center">{{classwork.description}}</td>
            <td align="center">
                <a class=" text-white" (click)="makePdf(classwork.file, classwork.filename)"
                    style="color: white;">{{classwork.filename}}</a>
            </td>

            <td class="nav-item" align="center">
                <a href="" data-toggle="modal" data-target="#assignment_id">
                    <button class="btn btn-outline-secondary btn-sm student-assignments"
                        data-assignmentID="assignment1">{{classwork.students.length}} students</button>

                </a> <i class="trash alternate outline icon float-right text-danger" style="cursor: pointer;"
                    (click)="deleteAssignment(classwork._id)"></i>



                <!-- Modal -->
                <div class="modal fade" id="assignment_id" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="text-info">Total Submission: 1</h4>
                            </div>
                            <div class="modal-body lead" style="color: black;">
                                <table class="table table-striped table-dark mt-4">
                                    <tr>
                                        <th>Student Name</th>
                                        <th>Student Id</th>
                                        <th>Student Assignment</th>
                                        <th>Submitted On</th>
                                    </tr>
                                    <tr>
                                        <td>Student Name</td>
                                        <td>Student ID</td>
                                        <td align="center">
                                            <a download="file">File</a>
                                        </td>
                                        <td>Submission date</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
    </table>
</div>
